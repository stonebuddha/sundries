\newcommand{\calA}{\ensuremath{\mathcal{A}}}
\newcommand{\calB}{\ensuremath{\mathcal{B}}}
\newcommand{\calC}{\ensuremath{\mathcal{C}}}
\newcommand{\calD}{\ensuremath{\mathcal{D}}}
\newcommand{\calE}{\ensuremath{\mathcal{E}}}
\newcommand{\calF}{\ensuremath{\mathcal{F}}}
\newcommand{\calG}{\ensuremath{\mathcal{G}}}
\newcommand{\calH}{\ensuremath{\mathcal{H}}}
\newcommand{\calI}{\ensuremath{\mathcal{I}}}
\newcommand{\calJ}{\ensuremath{\mathcal{J}}}
\newcommand{\calK}{\ensuremath{\mathcal{K}}}
\newcommand{\calL}{\ensuremath{\mathcal{L}}}
\newcommand{\calM}{\ensuremath{\mathcal{M}}}
\newcommand{\calN}{\ensuremath{\mathcal{N}}}
\newcommand{\calO}{\ensuremath{\mathcal{O}}}
\newcommand{\calP}{\ensuremath{\mathcal{P}}}
\newcommand{\calQ}{\ensuremath{\mathcal{Q}}}
\newcommand{\calR}{\ensuremath{\mathcal{R}}}
\newcommand{\calS}{\ensuremath{\mathcal{S}}}
\newcommand{\calT}{\ensuremath{\mathcal{T}}}
\newcommand{\calU}{\ensuremath{\mathcal{U}}}
\newcommand{\calV}{\ensuremath{\mathcal{V}}}
\newcommand{\calW}{\ensuremath{\mathcal{W}}}
\newcommand{\calX}{\ensuremath{\mathcal{X}}}
\newcommand{\calY}{\ensuremath{\mathcal{Y}}}
\newcommand{\calZ}{\ensuremath{\mathcal{Z}}}
\newcommand{\bbA}{\ensuremath{\mathbb{A}}}
\newcommand{\bbB}{\ensuremath{\mathbb{B}}}
\newcommand{\bbC}{\ensuremath{\mathbb{C}}}
\newcommand{\bbD}{\ensuremath{\mathbb{D}}}
\newcommand{\bbE}{\ensuremath{\mathbb{E}}}
\newcommand{\bbF}{\ensuremath{\mathbb{F}}}
\newcommand{\bbG}{\ensuremath{\mathbb{G}}}
\newcommand{\bbH}{\ensuremath{\mathbb{H}}}
\newcommand{\bbI}{\ensuremath{\mathbb{I}}}
\newcommand{\bbJ}{\ensuremath{\mathbb{J}}}
\newcommand{\bbK}{\ensuremath{\mathbb{K}}}
\newcommand{\bbL}{\ensuremath{\mathbb{L}}}
\newcommand{\bbM}{\ensuremath{\mathbb{M}}}
\newcommand{\bbN}{\ensuremath{\mathbb{N}}}
\newcommand{\bbO}{\ensuremath{\mathbb{O}}}
\newcommand{\bbP}{\ensuremath{\mathbb{P}}}
\newcommand{\bbQ}{\ensuremath{\mathbb{Q}}}
\newcommand{\bbR}{\ensuremath{\mathbb{R}}}
\newcommand{\bbS}{\ensuremath{\mathbb{S}}}
\newcommand{\bbT}{\ensuremath{\mathbb{T}}}
\newcommand{\bbU}{\ensuremath{\mathbb{U}}}
\newcommand{\bbV}{\ensuremath{\mathbb{V}}}
\newcommand{\bbW}{\ensuremath{\mathbb{W}}}
\newcommand{\bbX}{\ensuremath{\mathbb{X}}}
\newcommand{\bbY}{\ensuremath{\mathbb{Y}}}
\newcommand{\bbZ}{\ensuremath{\mathbb{Z}}}
\newcommand{\scrA}{\ensuremath{\mathscr{A}}}
\newcommand{\scrB}{\ensuremath{\mathscr{B}}}
\newcommand{\scrC}{\ensuremath{\mathscr{C}}}
\newcommand{\scrD}{\ensuremath{\mathscr{D}}}
\newcommand{\scrE}{\ensuremath{\mathscr{E}}}
\newcommand{\scrF}{\ensuremath{\mathscr{F}}}
\newcommand{\scrG}{\ensuremath{\mathscr{G}}}
\newcommand{\scrH}{\ensuremath{\mathscr{H}}}
\newcommand{\scrI}{\ensuremath{\mathscr{I}}}
\newcommand{\scrJ}{\ensuremath{\mathscr{J}}}
\newcommand{\scrK}{\ensuremath{\mathscr{K}}}
\newcommand{\scrL}{\ensuremath{\mathscr{L}}}
\newcommand{\scrM}{\ensuremath{\mathscr{M}}}
\newcommand{\scrN}{\ensuremath{\mathscr{N}}}
\newcommand{\scrO}{\ensuremath{\mathscr{O}}}
\newcommand{\scrP}{\ensuremath{\mathscr{P}}}
\newcommand{\scrQ}{\ensuremath{\mathscr{Q}}}
\newcommand{\scrR}{\ensuremath{\mathscr{R}}}
\newcommand{\scrS}{\ensuremath{\mathscr{S}}}
\newcommand{\scrT}{\ensuremath{\mathscr{T}}}
\newcommand{\scrU}{\ensuremath{\mathscr{U}}}
\newcommand{\scrV}{\ensuremath{\mathscr{V}}}
\newcommand{\scrW}{\ensuremath{\mathscr{W}}}
\newcommand{\scrX}{\ensuremath{\mathscr{X}}}
\newcommand{\scrY}{\ensuremath{\mathscr{Y}}}
\newcommand{\scrZ}{\ensuremath{\mathscr{Z}}}
\newcommand{\frakA}{\ensuremath{\mathfrak{A}}}
\newcommand{\frakB}{\ensuremath{\mathfrak{B}}}
\newcommand{\frakC}{\ensuremath{\mathfrak{C}}}
\newcommand{\frakD}{\ensuremath{\mathfrak{D}}}
\newcommand{\frakE}{\ensuremath{\mathfrak{E}}}
\newcommand{\frakF}{\ensuremath{\mathfrak{F}}}
\newcommand{\frakG}{\ensuremath{\mathfrak{G}}}
\newcommand{\frakH}{\ensuremath{\mathfrak{H}}}
\newcommand{\frakI}{\ensuremath{\mathfrak{I}}}
\newcommand{\frakJ}{\ensuremath{\mathfrak{J}}}
\newcommand{\frakK}{\ensuremath{\mathfrak{K}}}
\newcommand{\frakL}{\ensuremath{\mathfrak{L}}}
\newcommand{\frakM}{\ensuremath{\mathfrak{M}}}
\newcommand{\frakN}{\ensuremath{\mathfrak{N}}}
\newcommand{\frakO}{\ensuremath{\mathfrak{O}}}
\newcommand{\frakP}{\ensuremath{\mathfrak{P}}}
\newcommand{\frakQ}{\ensuremath{\mathfrak{Q}}}
\newcommand{\frakR}{\ensuremath{\mathfrak{R}}}
\newcommand{\frakS}{\ensuremath{\mathfrak{S}}}
\newcommand{\frakT}{\ensuremath{\mathfrak{T}}}
\newcommand{\frakU}{\ensuremath{\mathfrak{U}}}
\newcommand{\frakV}{\ensuremath{\mathfrak{V}}}
\newcommand{\frakW}{\ensuremath{\mathfrak{W}}}
\newcommand{\frakX}{\ensuremath{\mathfrak{X}}}
\newcommand{\frakY}{\ensuremath{\mathfrak{Y}}}
\newcommand{\frakZ}{\ensuremath{\mathfrak{Z}}}

\newcommand{\p}[1]{\ensuremath{\left({#1}\right)}}
\newcommand{\abs}[1]{\ensuremath{\left|{#1}\right|}}
\newcommand{\norm}[1]{\ensuremath{\left\|{#1}\right\|}}
\newcommand{\sq}[1]{\ensuremath{\left[{#1}\right]}}
\newcommand{\set}[1]{\ensuremath{\left\{ {#1} \right\}}}
\newcommand{\floor}[1]{\ensuremath{\left\lfloor{#1}\right\rfloor}}
\newcommand{\ceil}[1]{\ensuremath{\left\lceil{#1}\right\rceil}}
\newcommand{\vocab}[1]{\ensuremath{\left\llparenthesis #1 \right\rrparenthesis}}
\newcommand{\interp}[1]{\ensuremath{\left\llbracket #1 \right\rrbracket}}
\newcommand{\tuple}[1]{\ensuremath{\left\langle #1 \right\rangle}}

\newcommand{\defeq}{\ensuremath{\mathrel{\overset{\underset{\textnormal{def}}{}}{=}}}}
\newcommand{\Forall}[1]{\ensuremath{\forall {#1}\!:}}
\newcommand{\Exists}[1]{\ensuremath{\exists {#1}\!:}}
\DeclareMathOperator{\lnulunion}{\curlyvee}
\DeclareMathOperator{\lnulintersect}{\curlywedge}
\DeclareMathOperator{\extend}{\otimes}
\DeclareMathOperator{\combine}{\oplus}
\DeclareMathOperator{\tensor}{\odot}
\DeclareMathOperator*{\Extend}{\bigotimes}
\DeclareMathOperator*{\Combine}{\bigoplus}
\DeclareMathOperator*{\CombinePair}{{\bigoplus_p}}
\DeclareMathOperator*{\CombineTensor}{{\textstyle{{\displaystyle \bigoplus}_{\T}}}}
\DeclareMathOperator{\Tensor}{\bigodot}
\DeclareMathOperator{\concat}{||}
\DeclareMathOperator{\detensor}{\ltimes}

\newcommand{\Rule}[4][]{\ensuremath{\inferrule*[lab={\footnotesize{(#2)}},#1]{#3}{#4}}}
\newcommand{\Omit}[1]{}